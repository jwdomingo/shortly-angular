<div id="signup" class="row center-align">
  <h1>Sign Up</h1>
  <form ng-submit="signup()" ng-init="userExists=false" name="signForm" class="col s12">
    <div class="row">
      <div class="input-field col s6 offset-s3">
        <i class="material-icons prefix">account_circle</i>
        <input
          ng-model="user.username"
          id="user"
          name="user"
          type="text"
          ng-trim="false"
          ng-pattern="/^([A-Za-z]|[0-9]|_)+$/"
          class="validate"
          ng-focus="focus1=true; userExists=false;"
          ng-blur="focus1=false; getUser(user.username)"
          ng-class="{invalid: (signForm.user.$invalid && signForm.user.$dirty) || userExists}"
          required>
        <label
          for="user"
          ng-class="{active: focus1 || user.username || signForm.$invalid}"
          data-error="{{userExists ? 'unavailable' : 'invalid'}}">Userame</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6 offset-s3">
        <i class="material-icons prefix">vpn_key</i>
        <input ng-model="user.password" id="pass" type="password" class="validate" ng-focus="focus2=true" ng-blur="focus2=false">
        <label for="pass" ng-class="{active: focus2 || user.password}">Password</label>
      </div>
    </div>
    <div class="row">
      <button ng-disable="signForm.$invalid" class="waves-effect waves-light btn hoverable col s4 offset-s4" ng-class="{disabled: signForm.$invalid}">
        Sign Up
      </button>
    </div>
    <div class="row">
      Already have an account? <a href="#/signin">Sign In</a>
    </div>
  </form>
</div>
